<!DOCTYPE html>
<html>
 <head>
 <title>家計簿アプリケーション(家計簿)</title>
 </head>
 <body>
   <ul>
      <li><a href="./home.html">ホーム</a></li>
   </ul>
   <form id="kiroku">
    <dl>
      <dt>入出費</dt>
      <dd>
        <input type="radio" id="purasuokane" name="purasuokane" value="収入">収入
        <input type="radio" id="purasuokane" name="purasuokane" value="出費">出費
      </dd>
    
      <dt>金額</dt>
      <dd><input type="text" pattern="^[1-9][0-9]*$" id="okane"></dd>
   
      <dt>費目</dt>
      <dd><input type="text" id="himoku"></dd>
    
      <dt>日付</dt>
      <dd><input type="date" id="hiniti"></dd>
    </dl>
    <input type="submit" id="sousin">
   </form>
   
   <!-- 入力内容を表示するための場所 -->
   <div id="result">
        <h2>入力内容:</h2>
        <p>入出費: <span id="display_purasuokane"></span></p>
        <p>金額: <span id="display_okane"></span></p>
        <p>費目: <span id="display_himoku"></span></p>
        <p>日付: <span id="display_hiniti"></span></p>
   </div>
   
   <!-- JavaScriptでフォーム内容を取得し、表示・保存するコード -->
   <script>
      const form = document.getElementById('kiroku');
      const displaypurasuokane = document.getElementById('display_purasuokane');
      const displayokane = document.getElementById('display_okane');
      const displayhimoku = document.getElementById('display_himoku');
      const displayhiniti = document.getElementById('display_hiniti');
      const inputList = document.getElementById('result');

      form.addEventListener('submit', function (event) {
          event.preventDefault(); // ページがリロードされないようにする

          // フォームから入力内容を取得
          const purasuokane = document.querySelector('input[name="purasuokane"]:checked').value;
          const okane = document.getElementById('okane').value;
          const himoku = document.getElementById('himoku').value;
          const hiniti = document.getElementById('hiniti').value;

          // 入力内容を表示
          displaypurasuokane.textContent = purasuokane;
          displayokane.textContent = okane;
          displayhimoku.textContent = himoku;
          displayhiniti.textContent = hiniti;

          // 入力内容をローカルストレージに保存
          localStorage.setItem('savedpurasuokane', purasuokane);
          localStorage.setItem('savedokane', okane);
          localStorage.setItem('savedhimoku', himoku);
          localStorage.setItem('savedhiniti', hiniti);

          // 入力内容を表示リストに追加
          const listItem = document.createElement('div');
          listItem.innerHTML = `<p>入出費: ${purasuokane}</p><p>金額: ${okane}</p><p>費目: ${himoku}</p><p>日付: ${hiniti}</p>`;
          inputList.appendChild(listItem);

          // フォームをクリア
          form.reset();
      });

      // ページ読み込み時に保存された内容を表示
      window.addEventListener('load', function () {
          const savedpurasuokane = localStorage.getItem('savedpurasuokane');
          const savedokane = localStorage.getItem('savedokane');
          const savedhimoku = localStorage.getItem('savedhimoku');
          const savedhiniti = localStorage.getItem('savedhiniti');

          if (savedpurasuokane && savedokane && savedhimoku && savedhiniti) {
              displaypurasuokane.textContent = savedpurasuokane;
              displayokane.textContent = savedokane;
              displayhimoku.textContent = savedhimoku;
              displayhiniti.textContent = savedhiniti;
          }
      });
   </script>
 </body>
</html>
